/********************/
/*****  fonts  ******/
/********************/

@font-face {
  font-family: "Helvetica Neue";
  src: url("../assets/fonts/HelveticaNeue.ttc");
}

/*********************/
/******  base  *******/
/*********************/

:root {
  /* font-sizes */
  --context: 1240;
  --xxl: 380rem;
  --xl: 70rem;
  --l: 40rem;
  --m: 24rem;
  --s: 20rem;
  --xs: 12rem;
  --header: 10rem;
  --p: 14rem;
  --cta: 25rem;
  --nav: 16rem;
  --nav-d: 16rem;

  --small-p: 8rem;

  --t-1: 32rem;
  --t-3: 24rem;

  --light-gap: 10rem;
  --gap-content: 25rem;
  --large-gap-content: 50rem;
  --biggest-gap-content: 125rem;

  --gap-section: 150rem;
  --big-gap-section: 300rem;

  --global-padding: 16rem;

  /* colors */
  --primary: #ffffff;
  --secondary: #000000;
  /* background */
  --p1-light-green: #d9e9cf;
  /* button, text, stroke,... */
  --p1-darken-green: #4f584a;

  /* ------------- */
  /* NUMBER COLORS */
  /* ------------- */

  /* valid number */
  --valid-number-placed-stroke: #4DBB50;
  --valid-number-placed-fill: rgba(77, 187, 80, 0.25);

  /* valid number but not at the right place */
  --valid-number-stroke: #F59E0C;
  --valid-number-fill: rgba(245, 128, 12, 0.25);
  
  /* number */
  --default-number-stroke: #8B8B8B;
  --default-number-fill: rgba(25, 26, 25, .75);

  /* ----------------- */
  /* BACKGROUND COLORS */
  /* ----------------- */

  --checkbox-checked-linear: linear-gradient(135deg,rgba(74, 148, 255, 0.4) 0%, rgba(74, 148, 255, 0.2) 100%);
  --glass-modal-linear: linear-gradient(135deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.2) 100%);
  --glass-game-linear: linear-gradient(135deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.2) 100%);

  /* summer */
  --top-sky-summer: #4A94FF;
  --bottom-sky-summer: #BFE2FF;

  --top-grass-1-summer: #60BC3B;
  --bottom-grass-1-summer: #A3E24B;

  --top-grass-2-summer: #A3E24B;
  --bottom-grass-2-summer: #224414;

  /* autumn */
  --top-sky-autumn: #6F92C9;
  --bottom-sky-autumn: #FFD9B3;

  --top-grass-1-autumn: #9B7B4A;
  --bottom-grass-1-autumn: #9B7B4A;

  --top-grass-2-autumn: #9B7B4A;
  --bottom-grass-2-autumn: #A1A358;

  /* winter */
  --top-sky-winter: #FFFFFF;
  --bottom-sky-winter: #BFE2FF;

  --top-grass-1-winter: #C7C7C7;
  --bottom-grass-1-winter: #FFFFFF;

  --top-grass-2-winter: #FFFFFF;
  --bottom-grass-2-winter: #B9B9B9;

  /* spring */
  --top-sky-spring: #8FD6FF;
  --bottom-sky-spring: #FFF2CC;

  --top-grass-1-spring: #9FFB83;
  --bottom-grass-1-spring: #9FFB83;

  --top-grass-2-spring: #9FFB83;
  --bottom-grass-2-spring: #74B86B;

  /* grass */
  --g1-current-c-top: var(--top-grass-1-summer);
  --g1-current-c-bottom: var(--bottom-grass-1-summer);

  --g2-current-c-top: var(--top-grass-2-summer);
  --g2-current-c-bottom: var(--bottom-grass-2-summer);

  --background-grass-1-linear: linear-gradient(180deg, var(--g1-current-c-top) 25%, var(--g1-current-c-bottom) 50%);
  --background-grass-2-linear: linear-gradient(180deg, var(--g2-current-c-top) 0%, var(--g2-current-c-bottom) 75%);
  
  /* sky */
  --background-sky-linear: linear-gradient(180deg, var(--top-sky-summer) 0%, var(--bottom-sky-summer) 50%);

  /* ----------------- */
  /* ----------------- */
  /* ----------------- */

  --secondary-opacity: rgba(0, 0, 0, 0.35);

  /* transitions */
  --main-transition: cubic-bezier(0.62, 0.05, 0.01, 0.99);
  --basic-duration: 1.2s;

  --element-padding: 15rem 30rem;
}

button,
button.action,
input[type="submit"],
input[type="button"] {
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.25);
  border-radius: 12px;
  color: white;
  font-weight: 500;
  transition: 0.3s var(--main-transition);
  backdrop-filter: blur(6px);
  padding: 12rem 24rem;
  cursor: pointer;
}

button:hover,
button.action:hover,
input[type="submit"]:hover,
input[type="button"]:hover {
  background: rgba(255, 255, 255, 0.35);
  transform: translateY(-2px);
  box-shadow: 0 4px 20px rgba(255, 255, 255, 0.25);
}

button:active,
input[type="submit"]:active,
input[type="button"]:active {
  transform: scale(0.97);
  box-shadow: none;
}

input[type="text"],
input[type="number"],
input[type="password"],
textarea {
  width: 100%;
  padding: 14rem 18rem;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.35);
  background: rgba(255, 255, 255, 0.15);
  color: white;
  font-size: var(--p);
  backdrop-filter: blur(8px);
  transition: 0.3s var(--main-transition);
}

input::placeholder,
textarea::placeholder {
  color: rgba(255, 255, 255, 0.7);
}

input:focus,
textarea:focus {
  outline: none;
  border-color: rgba(255, 255, 255, 0.7);
  background: rgba(255, 255, 255, 0.25);
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
}


@media screen and (max-width: 479px) {
  :root {
    --context: 375;
    --xxl: 100rem;
    --svg-xl: 84rem;
    --xl: 36rem;
    --l: 28rem;
    --m: 22rem;
    --s: 16rem;
    --xs: 12rem;
    --p: 12rem;
    --cta: 20rem;
    --nav: 28rem;
    --nav-d: 52rem;
  }
}

*,
*::before,
*::after {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

html {
  font-size: calc(100vw / var(--context));
  background-color: var(--p1-light-green);
}

body {
    font-family: Helvetica Neue, Arial, sans-serif;
}

h1 {
  /* font-size: var(--m) !important; */
  font-size: 18rem;
  line-height: 0;
}

h3 {
  /* font-size: var(--s) !important; */
  font-size: 14rem;
}

p, input, label, button {
    font-size: var(--p);
}

/**************/
/**************/
/**************/
/* background */
/**************/
/**************/
/**************/

.background {
  position: fixed;
  width: 100vw;
  height: 100dvh;
}

.background__overlay {
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 2;
  background-color: black;
  opacity: 0.25;
}

.background__overlay img {
  position: absolute;
  width: 100%;
  height: 100%;
}

.background .sky {
  position: absolute;
  width: 100%;
  height: 100%;
  background: var(--background-sky-linear);
}

/* sun */

.sun {
  position: absolute;
  border-radius: 50%;
  width: 140px;
  height: 140px;
  transition: all 1s ease;
  animation: sunPulse 4s ease-in-out infinite;
  z-index: 1;
}

body.theme-summer .sun {
  top: 60px;
  right: 120px;
  background: radial-gradient(circle, #fff176 0%, #ffcc33 40%, #ff9800 80%);
  box-shadow:
    0 0 60px 20px rgba(255, 200, 0, 1),
    0 0 150px 60px rgba(255, 180, 0, 0.7),
    0 0 250px 120px rgba(255, 150, 0, 0.3);
}

body.theme-autumn .sun {
  top: 120px;
  right: 150px;
  background: radial-gradient(circle, #ffd966 0%, #ffb347 40%, #e07b39 90%);
  box-shadow:
    0 0 40px 15px rgba(255, 160, 60, 0.8),
    0 0 100px 50px rgba(255, 120, 20, 0.4);
}

body.theme-winter .sun {
  top: 160px;
  right: 180px;
  background: radial-gradient(circle, #fffde7 0%, #cfd8dc 40%, #90a4ae 90%);
  box-shadow:
    0 0 30px 10px rgba(255, 255, 255, 0.8),
    0 0 100px 40px rgba(200, 230, 255, 0.5),
    0 0 200px 100px rgba(180, 210, 255, 0.2);
}

body.theme-spring .sun {
  top: 100px;
  right: 130px;
  background: radial-gradient(circle, #fff3b0 0%, #ffd6a5 50%, #ffadad 90%);
  box-shadow:
    0 0 50px 20px rgba(255, 200, 120, 0.9),
    0 0 150px 70px rgba(255, 160, 160, 0.4);
}

@keyframes sunPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

/* particules */

.particles {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 2;
}

.particle {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  opacity: 0.7;
  animation: float 10s linear infinite;
}

@keyframes float {
  0% {
    transform: translateY(0) translateX(0) scale(1);
    opacity: 0;
  }
  10% { opacity: 0.8; }
  50% {
    transform: translateY(-200px) translateX(40px) scale(1.2);
  }
  90% { opacity: 0.6; }
  100% {
    transform: translateY(-400px) translateX(-40px) scale(0.8);
    opacity: 0;
  }
}

.particles {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 2;
}

.particle {
  position: absolute;
  border-radius: 50%;
  opacity: 0.8;
  animation: floatCurve linear infinite;
  will-change: transform, opacity;
}

/* animation naturelle */
@keyframes floatCurve {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 0;
  }
  10% { opacity: 0.8; }
  25% {
    transform: translate(30px, -100px) rotate(10deg) scale(1.1);
  }
  50% {
    transform: translate(-40px, -220px) rotate(-10deg) scale(1.2);
  }
  75% {
    transform: translate(60px, -340px) rotate(5deg) scale(1);
  }
  100% {
    transform: translate(-20px, -450px) scale(0.9);
    opacity: 0;
  }
}

body.theme-summer .particle {
  background: rgba(255, 255, 150, 0.9);
  box-shadow: 0 0 8px rgba(255, 230, 120, 0.7);
}

body.theme-autumn .particle {
  background: rgba(255, 170, 80, 0.9);
  box-shadow: 0 0 6px rgba(255, 140, 40, 0.5);
}

body.theme-winter .particle {
  background: rgba(255, 255, 255, 0.9);
  box-shadow: 0 0 8px rgba(200, 230, 255, 0.9);
}

body.theme-spring .particle {
  background: rgba(255, 190, 220, 0.9);
  box-shadow: 0 0 6px rgba(255, 180, 210, 0.7);
}

/* nuages */

canvas#webglCanvas {
  position: absolute;
  width: 100%;
  height: 100%;
}

/**************/
/**************/
/**************/

.background {
  position: relative;
  width: 100%;
  height: 100vh;
  overflow: hidden;
}

.background .grass {
  z-index: 1;
}

.background .grass-1 {
  position: absolute;
  height: 50%;
  width: 100%;
  /* background-color: #3b8d3b; */
  bottom: -16%;
  /* overflow: hidden; */
}

.hill {
  width: 100%;
  height: 10vh;

  background: var(--background-grass-1-linear);

  -webkit-mask-image: url('../hill.svg');
  mask-image: url('../hill.svg');
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-size: cover;
  mask-size: cover;

  background-repeat: no-repeat;
  background-size: cover;
}

.background .grass-2 {
  position: absolute;
  height: 25%;
  width: 100%;
  bottom: 0;
  background: var(--background-grass-2-linear);
}

/* container: structure */

.container {
  position: absolute;
  width: 100vw;
  height: 100dvh;
  z-index: 10;
  top: 0;

  display: flex;
  justify-content: center;
  align-items: center;
}

.container .modal {
  position: relative;
  width: 65%;
  height: 85%;
  background: var(--glass-modal-linear);
  border: 1px solid white;
  border-radius: 10px;

  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

.modal__content {
  position: relative;
  width: 65%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
}

.content__title {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  /* background-color: red; */
}

.modal p,
.modal h1,
.modal h3, .modal label {
  color: white;
}

/* form UI */

.modal__title {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  /* background-color: gray; */
}

.modal__title img {
  width: var(--l);
  aspect-ratio: 1;
}

.modal__title .title__content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0;
}

form {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: var(--l);
  /* background-color: red; */
}

/* input with label */
.form__input {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 12rem;
  /* background-color: green; */
  width: 100%;
}

.form__input label {
  font-size: var(--xs);
}

/* .form__input input {
  width: 100% !important;
} */

/* .form__input input,
input,
p.action {
  font-size: var(--xs);
  padding: var(--element-padding);
  width: max-content;
  background: var(--glass-modal-linear);
  border: 1px solid white;
  border-radius: 10px;
  color: white;
} */

/* .form__input input::placeholder, input::placeholder {
  color: white;
} */

.difficulty-option {
  position: relative;
  display: flex;
  flex-direction: row;
  padding: var(--element-padding);

  background: var(--glass-modal-linear);
  border: 1px solid white;
  border-radius: 10px;
  overflow: hidden;
}

.difficulty-option input[type="radio"] {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
  z-index: 99;
}

.difficulty-option input[type="radio"]:checked + .background__checkbox {
  background: var(--checkbox-checked-linear);
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  z-index: -1;
}

.form__footer {
  display: flex;
  flex-direction: row;
  width: 100%;
  gap: var(--xs);
  /* background-color: red; */
  
}

.form__footer button[type=submit] {
  /* width: 100%; */
  flex: 1;
}

/* button.action {
  background: var(--glass-modal-linear);
  border: 1px solid white;
  border-radius: 10px;
  color: white;
  padding: var(--element-padding);
  cursor: pointer;
  font-size: var(--xs);
}

button.action:hover {
  background: var(--checkbox-checked-linear);
} */

/* game UI */

.game__options {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
}

.options__infos {
  display: flex;
  flex-direction: row;
  gap: var(--light-gap);
}

.game__tries {
  background: var(--glass-game-linear);
  border: 1px solid white;
  border-radius: 10px;
  padding: 20rem;

  display: flex;
  flex-direction: column;
  max-height: 250px;
  overflow: scroll;
}

.game__tries .try {
  margin-top: var(--gap-content);
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: var(--gap-content);
}

.game__tries .try .try__numbers {
  display: flex;
  flex-direction: row;
  gap: var(--light-gap);
}

.number {
  font-size: var(--xs);
  padding: 16rem 20rem;
  width: max-content;
  color: white;
  border-radius: 10px;
}

.number[data-type="misplaced"] {
  background-color: var(--valid-number-fill);
  border: 1px solid var(--valid-number-stroke);
}

.number[data-type="correct"] {
  background-color: var(--valid-number-placed-fill);
  border: 1px solid var(--valid-number-placed-stroke);
}

.number[data-type="absent"] {
  background-color: var(--default-number-fill);
  border: 1px solid var(--default-number-stroke);
}

.game {
  background: var(--glass-game-linear);
  border: 1px solid white;
  border-radius: 10px;
  padding: 20rem;

  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: var(--gap-content);
}

.game .game__code {
  width: 100%;
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: var(--light-gap);
}

.game .game__code input {
  width: 50px;
  aspect-ratio: 1;
  padding: 0;
  text-align: center;
}

.game .game__code input::placeholder {
  color: rgba(255, 255, 255, 0.5);
}


/* leaderboard UI */

.leaderboard {
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
  align-items: center;
  gap: var(--light-gap);
}

.leaderboard__title {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.leaderboard__title .title {
  text-align: center;
}

.leaderboard__title img {
  width: var(--xl);
}

.leaderboard__content {
  width: 100%;
  background: var(--glass-modal-linear);
  border: 1px solid white;
  border-radius: 10px;
  color: white;
  /* padding: var(--element-padding); */
  padding: 40rem;
  display: flex;
  flex-direction: column;
  gap: var(--light-gap);

  max-height: 300px;
  overflow: scroll;
}

.leaderboard__content .ldb__item {
  background: var(--glass-game-linear);
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: var(--element-padding);
  border: 1px solid white;
  border-radius: 10px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
}

.ldb__item .left__content {
  /* background-color: gray; */
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: var(--light-gap);
  flex: 1;
}

.ldb__item .left__content .infos {
  display: flex;
  flex-direction: column;
  gap: 4rem;
}

.ldb__item .left__content .infos .details {
  font-size: var(--xs);
}

.left__content .rank {
  padding: 10rem;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  border-radius: 50%;
}

.rank p {
  font-size: var(--xs) !important;
}

.left__content .rank[data-rank="first"] {
  background-color: #FFE738;
}

.left__content .rank[data-rank="first"] p {
  color: black;
}

.left__content .rank[data-rank="second"] {
  background-color: #C0C0C0;
  color: black;
}

.left__content .rank[data-rank="others"] {
  background-color: #151515;
  color: white;
}


.ldb__item .score p {
  color: #22C55F;
  font-weight: bold;
  font-size: var(--s);
}

/************/
/* settings */
/************/

.settings-btn {
  position: fixed;
  bottom: var(--s);
  right: var(--s);
  background: rgba(255, 255, 255, 0.4);
  border: none;
  border-radius: 50%;
  padding: 20rem;
  aspect-ratio: 1;
  font-size: var(--m);
  cursor: pointer;
  backdrop-filter: blur(10px);
  transition: 0.3s;

  z-index: 9999;
}

.settings-btn:hover {
  background: rgba(255, 255, 255, 0.7);
}

/* Modal */
.settings-modal, .modal__lost__game {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(3px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  color: white;
}

.settings-modal.hidden, .modal__lost__game.hidden {
  display: none;
}

.settings-modal__content,
.modal__lost__game--content {
  position: absolute;
  width: 50%;
  height: 50%;
  background: var(--glass-modal-linear);
  border-radius: 16px;
  border: 1px solid white;
  padding: 30rem;
  min-width: 300px;

  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.settings-modal__content .themes {
  display: flex;
  flex-direction: row;
  gap: var(--light-gap);
  /* justify-content: center; */
  align-items: center;
}

.setting p {
  margin-bottom: var(--light-gap);
}

.settings-modal #closeSettingsModal, #closeModalLost {
  position: absolute;
  top: 20rem;
  right: 20rem;
}

.themes button, #closeSettingsModal, #closeModalLost {
  flex: 1;
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.25);
  border-radius: 12px;
  color: white;
  font-weight: 500;
  transition: 0.3s;
  backdrop-filter: blur(6px);
}

.settings-modal__content .themes button {
  font-size: var(--xs);
}

.settings-modal__content .themes button:hover {
  background: rgba(255,255,255,0.6) !important;
  transform: translateY(-2px);
}

#closeSettingsModal:hover {
  background: rgba(255, 255, 255, 0.4);
  transform: translateY(-2px);
}

.settings-modal__content h3 {
  /* font-size: var(--s) !important; */
}

.content__settings, .content__modal-lostgame {
  display: flex;
  flex-direction: column;
  gap: var(--gap-content);
}

.switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 34px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.25);
  transition: 0.4s;
  border-radius: 20px;
  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.25);
}

.slider::before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: 0.4s;
  border-radius: 50%;
}

input:checked + .slider {
  background: linear-gradient(135deg, #FFD56F, #FFB347);
  box-shadow: 0 0 10px rgba(255, 180, 80, 0.6);
}

input:checked + .slider::before {
  transform: translateX(26px);
}

.slider:active::before {
  width: 30px;
}

/* keypad */

.keypad {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 10rem;
  margin-top: 20rem;
}

.keypad__key {
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.25);
  border-radius: 10px;
  color: white;
  font-size: var(--s);
  padding: 12rem;
  cursor: pointer;
  transition: 0.3s;
  backdrop-filter: blur(6px);
}

.keypad__key:hover {
  background: rgba(255, 255, 255, 0.35);
  transform: translateY(-2px);
}

.keypad__delete {
  grid-column: span 2;
  background: rgba(255, 120, 120, 0.3);
}

.keypad__delete:hover {
  background: rgba(255, 120, 120, 0.5);
}

.game__code input {
  color: black !important;
}

.modal__lost__game--content {
  align-items: center;
  text-align: center;
  justify-content: center;
  gap: var(--gap-content);
}

.modal__lost__game--content h3 {
  font-size: var(--s);
  margin-bottom: var(--gap-content);
  color: white;
}

.modal__lost__game--content p {
  font-size: var(--p);
  margin-bottom: var(--gap-content);
  color: white;
}

.modal__lost__game--content button {
  flex: 1;
  min-width: 120px;
}
